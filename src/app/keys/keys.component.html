<div class="mainform">
  <mat-form-field appearance="fill" style="max-width: 320px">
    <mat-label>Coller ici votre clé privée</mat-label>
    <input matInput type="text" maxlength="200" [(ngModel)]="privateKey" >
    <mat-hint>Plusieurs formats sont acceptés</mat-hint>
  </mat-form-field>

  <mat-form-field appearance="fill" style="max-width: 320px">
    <mat-label>Donner un nom</mat-label>
    <input matInput type="text" maxlength="200" [(ngModel)]="name" >
    <mat-hint>Plusieurs formats sont acceptés</mat-hint>
  </mat-form-field>

  <button
    type="button" aria-label="Ajouter" mat-raised-button
    [disabled]="name=='' || privateKey==''"
    (click)="add_key()">
    Ajouter
  </button>

  <br><br>
  <h2>
    Liste des clés disponibles sur le serveur
    <mat-icon (click)="refresh()">refresh</mat-icon>

  </h2>


  <table>
    <tr>
      <th>Alias</th>
      <th>Public Key</th>
      <th></th>
      <th></th>
      <th></th>
      <th>Solde</th>
    </tr>
    <tr *ngFor="let key of keys">
      <td>
        <strong>{{key.name}}</strong>
      </td>
      <td style="font-size: small;">
        {{key.pubkey}}
      </td>
      <td>
        <button type="button" mat-raised-button mat-button (click)="sel_key(key.name)">
          Sélectionner
        </button>
      </td>
      <td>
        <button type="button" mat-raised-button mat-button (click)="del_key(key.name)">
          Supprimer
        </button>
      </td>
      <td>
        <button type="button" mat-raised-button mat-button (click)="encrypt(key)">
          Encrypter
        </button>
      </td>
      <td>
        {{key.balance}} {{key.unity}}
      </td>
    </tr>
  </table>

  <br>
  <p>La fonction <strong>Encrypter</strong> permet d'insérer les clés directement dans un fichier d'opération sans risque pour leur confidentialité</p>

</div>
