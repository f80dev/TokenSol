<div class="mainform">
  <mat-icon (click)="refresh()">refresh</mat-icon>

  <mat-form-field appearance="fill" style="width:120px">
    <mat-label>Recherche sur</mat-label>
    <mat-select  [(value)]="type_addr" (selectionChange)="change_typeaddr($event)" >
      <mat-option value="miner">Mineur</mat-option>
      <mat-option value="owner">Propriétaire</mat-option>
      <mat-option value="token">Token</mat-option>
      <mat-option value="FTX_account">Compte FTX</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field appearance="fill" style="width: 375px">
    <mat-label>Addresse ou pseudo</mat-label>
    <input matInput type="text" maxlength="64" [(ngModel)]="pubkey" (keypress)="onkeypress($event)" >
    <mat-icon *ngIf="pubkey!=''" matSuffix style="cursor: pointer" (click)="clear_pubkey()">cancel</mat-icon>
    <mat-hint>L'adresse correspond à la clé publique</mat-hint>
  </mat-form-field>

  <mat-form-field appearance="fill" style="width:150px">
    <mat-label>Dans la collection</mat-label>
    <input matInput type="text" maxlength="64" [(ngModel)]="search_collection">
  </mat-form-field>

  <mat-form-field appearance="fill" style="width:150px">
    <mat-label>Dans les métadonnées</mat-label>
    <input matInput type="text" maxlength="64" [(ngModel)]="search_metadata" >
  </mat-form-field>

  &nbsp;
  <button type="button" mat-raised-button mat-button
          (click)="refresh()">
    Rechercher
  </button>

  <button type="button" mat-raised-button mat-button
          [disabled]="nfts?.length==0"
          (click)="burn_all()">
    Reset
  </button>

  <br>
  <div *ngIf="nfts?.length>0">{{nfts.length}} trouvés<br></div>
  <app-nfts [nfts]="nfts | filter: ['collection',search_collection] | filter: ['metadata',search_metadata]" format="obj"
            (refresh)="refresh()"
            [user]="metaboss.admin_key?.pubkey">
  </app-nfts>

</div>
